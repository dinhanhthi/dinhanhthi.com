---
pagination:
  data: collections
  size: 1
  alias: tag
  filter:
    - all
    - nav
    - post
    - posts
    - tagList
  addAllPagesToCollections: true
layout: post
customClass: "page-single-tag"
customJS: ["toggle-notes.js"]
eleventyComputed:
  title: Topic ‚Äú{{ tag }}‚Äù
permalink: /tags/{{ tag | slug }}/
icon: tag_.svg
---

<p>üëâ Check <a href="{{ '/tags/' | url }}">all topics</a> on this site.</p>

{% set customClass = "single-line plain" %}
{% include "components/toggle-posts-buttons.njk" %}

{% set morePosts = false %}
{# post outside 11ty .md files #}

{% set newPostListTag = [] %}

{% for post in cat_ex_posts %}
  {% if not post.hide %}
    {% for tg in post.tags %}
      {% if tg == tag %}
        {% set morePosts = true %}
        {% set singlePost = {
          'title': post.title,
          'url': post.url,
          'date': post.date | toDate,
          'tags': post.tags
        } %}
        {% if post.notfull %}
          {% set singlePost = singlePost | setAttribute('notfull', post.notfull) %}
        {% endif %}
        {% if post.private %}
          {% set singlePost = singlePost | setAttribute('private', post.private) %}
        {% endif %}
        {% set newPostListTag = (newPostListTag.push(singlePost), newPostListTag) %}
      {% endif %}
    {% endfor %}
  {% endif %}
{% endfor %}

{% if morePosts %}
  {% set morePosts = newPostListTag %}
{% endif %}

{% set postslist = collections[tag] %}
{% set numberOfPosts = postslist | length + morePosts | length %}

{% if numberOfPosts > 0 %}
  {% set customClass = 'list-of-post' %}
  {% set customIcon = true %}
  {% set sortBy = 'date' %}
  {% set showDate = true %}
  {% include "components/postsList.njk" %}
{% else %}
  <div class="no-posts">This topic contains no post, please return later.</div>
{% endif %}